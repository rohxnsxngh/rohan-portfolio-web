---
import Navbar from "../layouts/Navigation.astro";
import Footer from "../layouts/Footer.astro";
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <Navbar>
    <div class="sm:px-20 px-6">
      <h1 class="font-semibold sm:text-5xl text-3xl py-4 tracking-wider">
        About <span class="text-primary">Me</span>
      </h1>

      <div class="divider"></div>

      <div class="mt-6 sm:text-lg text-md relative text-left">
        <p>
          I was born in Goa, India, and moved to the U.S. when I was around
          eight years old. Growing up, I was always drawn to two thingsâ€”<span
            class="font-medium text-primary">sports and building</span
          >. Tennis and soccer were my first obsessions, and I poured countless
          hours into them, eventually walking onto Texas A&M's Division 1 tennis
          team before COVID changed everything. That shift pushed me to channel
          my competitive drive into something else:
          <span
            class="underline decoration-primary decoration-2 underline-offset-4"
            >engineering</span
          >. Whether it was coding, designing, or breaking things apart just to
          understand how they worked, I found the same thrill in building that I
          once did in sports.
        </p>
        <br/>
        <p class="italic text-sm font-thin text-center">little clip of retired me playing somewhere in Jamaica</p>
      </div>

      <!-- Tennis Videos Section - Side by Side -->
      <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6 fade-in">
        <!-- First video -->
        <div class="relative group video-container">
          <video
            poster="/videos/tennis_01_thumb.jpg"
            class="rounded-lg w-full h-auto object-cover filter grayscale hover:grayscale-0 transition-all duration-500 ease-out -rotate-90 transform-center"
            autoplay
            loop
            muted
            playsinline
            preload="metadata"
            aria-label="Tennis video clip one"
          >
            <source src="/videos/tennis_01.mp4" type="video/mp4" />
            Your browser does not support the video tag.
          </video>
          <div
            class="absolute inset-0 border border-primary/20 rounded-lg transform transition-transform duration-300 group-hover:scale-105"
          >
          </div>
        </div>

        <!-- Second video -->
        <div class="relative group video-container">
          <video
            poster="/videos/tennis_02_thumb.jpg"
            class="rounded-lg w-full h-auto object-cover filter grayscale hover:grayscale-0 transition-all duration-500 ease-out -rotate-90 transform-center"
            autoplay
            loop
            muted
            playsinline
            preload="metadata"
            aria-label="Tennis video clip two"
          >
            <source src="/videos/tennis_02.mp4" type="video/mp4" />
            Your browser does not support the video tag.
          </video>
          <div
            class="absolute inset-0 border border-primary/20 rounded-lg transform transition-transform duration-300 group-hover:scale-105"
          >
          </div>
        </div>
      </div>

      <p class="mt-10 sm:text-lg text-md text-left">
        That passion led me to <span class="font-medium">Texas A&M</span>, where
        I earned a B.S. in Mechanical Engineering with minors in Applied
        Mathematics and Statistics. My journey through tech has been diverse and
        excitingâ€”from developing robotics projects at my University clubs as
        well as working at industry giants like <span
          class="text-slate-500/90 hover:underline hover:text-cyan-500/90 decoration-2 underline-offset-4"
          >ASML</span
        >,
        <span class="text-slate-500/90 hover:underline hover:text-red-300/90 decoration-2 underline-offset-4"
          >Toyota</span
        >,
        <span class="text-slate-500/90 hover:underline hover:text-red-500/90 decoration-2 underline-offset-4"
          >Tesla</span
        >, and
        <span class="text-slate-500/90 hover:underline hover:text-lime-500/90 decoration-2 underline-offset-4"
          >Nvidia</span
        >. Now, I'm pursuing my passion at <span class="font-medium"
          >Carnegie Mellon University</span
        >, diving deep into AI, robotics, and control systemsâ€”exploring how
        machines can learn and adapt in dynamic environments.
      </p>

      <p class="mt-6 sm:text-lg text-md text-left">
        Beyond my formal roles, I'm a <span class="font-bold text-primary"
          >startup enthusiast</span
        > and founder of <span
          class="text-slate-500/90 hover:underline hover:text-blue-800/90 decoration-2 underline-offset-4"
          ><a href="https://www.quaternionstudios.com/">Quaternion Studios</a
          ></span
        >. I'm deeply passionate about
        <span class="italic">building companies in the hardware space</span> that
        contribute to a truly abundant future. My goal is to bridge cutting-edge
        AI with practical engineering solutions that solve real-world problems. When
        I'm not working on projects, you'll find me playing pickup basketball, exploring
        new breweries, or just creatingâ€”whether it's software, hardware prototypes,
        or something completely unexpected.
      </p>

      <div class="divider"></div>

      <div class="p-6 mt-6 pt-8">
        <div class="mockup-code border-2 border-primary bg-black">
          <pre data-prefix="$"><code>sudo install rohxnsxngh</code></pre>
          <pre
            data-prefix=">"
            class="text-error"><code>243 MB of disk space requiredðŸ˜‡</code></pre>
          <pre
            data-prefix=">"
            class="text-warning"><code>installing hardware_innovation.sys</code></pre>
          <pre
            data-prefix=">"
            class="text-success"><code>Welcome to my page!</code></pre>
        </div>
      </div>
    </div>
  </Navbar>
  <Footer />
</Layout>

<style>
  .divider {
    height: 1px;
    width: 100%;
    background-color: rgba(var(--color-primary-rgb), 0.2);
    margin: 1rem 0;
  }

  /* Fade-in animation for videos */
  .fade-in {
    opacity: 0;
    animation: fadeIn 1s forwards;
    animation-delay: 0.3s;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Video container styling - optimized for rotated videos */
  .video-container {
    position: relative;
    overflow: hidden;
    border-radius: 0.5rem;
    /* Square container to handle the rotation nicely */
    aspect-ratio: 1/1;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Make the rotated videos display properly */
  .transform-center {
    transform-origin: center;
    /* Adjust scale to fill container appropriately */
    transform: rotate(-90deg) scale(1.2);
    max-width: 100%;
    max-height: 100%;
  }

  /* Add subtle video shine effect on hover */
  .group:hover video {
    box-shadow: 0 0 20px rgba(var(--color-primary-rgb), 0.3);
  }
  
  /* Responsive adjustments */
  @media (min-width: 768px) {
    .transform-center {
      transform: rotate(-90deg) scale(1.1);
    }
  }
  
  @media (min-width: 1024px) {
    .transform-center {
      transform: rotate(-90deg) scale(1.15);
    }
  }
</style>

<script>
  // Intersection Observer for lazy loading videos
  document.addEventListener("DOMContentLoaded", () => {
    const videos = document.querySelectorAll("video");

    if ("IntersectionObserver" in window) {
      const videoObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              // Only play the video when it's visible in the viewport
              const video = entry.target as HTMLVideoElement;
              video.play().catch((error) => {
                console.warn("Auto-play was prevented by the browser:", error);
                // Add a play button overlay for user interaction if needed
              });

              // Stop observing once it starts playing
              videoObserver.unobserve(video);
            }
          });
        },
        {
          threshold: 0.1, // Start loading when 10% visible
        }
      );

      // Observe all videos
      videos.forEach((video) => {
        videoObserver.observe(video);
      });
    } else {
      // Fallback for browsers that don't support IntersectionObserver
      videos.forEach((video) => {
        video.play().catch(() => {
          // Silent catch - some browsers require interaction first
        });
      });
    }

    // Add pause/play functionality when videos are not visible
    // to save resources (optional)
    if ("IntersectionObserver" in window) {
      const pauseObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              (entry.target as HTMLVideoElement).play().catch(() => {});
            } else {
              (entry.target as HTMLVideoElement).pause();
            }
          });
        },
        {
          rootMargin: "0px",
          threshold: 0,
        }
      );

      videos.forEach((video) => {
        pauseObserver.observe(video);
      });
    }
  });
</script>